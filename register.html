
<!DOCTYPE html>
<html>
<head>
  <title>Registration Form</title>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    .container {
      max-width: 400px;
      margin: 0 auto;
      padding: 20px;
      border: 1px solid #20bc3c; /* Blue border */
      border-radius: 5px;
      background-color: #000000; /* Blue background */
    }
    
    .phone-input {
      display: flex;
      align-items: center;
    }
    
    .phone-input select,
    .phone-input input[type="tel"] {
      padding: 6px;
      border-radius: 5px;
      border: 1px solid #20cc2b; /* Green border */
    }
    
    h1 {
      text-align: center;
      margin-top: 0;
      margin-bottom: 0;
      color: #FFFFFF; /* White text */
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      color: #FFFFFF; /* White text */
    }
    
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="tel"],
    input[type="number"],
    textarea {
      width: 95%;
      padding: 6px;
      border-radius: 5px;
      border: 1px solid #20cc2b; /* Green border */
    }
    
    .error-message {
      color: #ffffff; /* Dark red text for error messages */
      font-size: 14px;
      margin-top: 5px;
    }
    
    input[type="submit"] {
      width: 100%;
      padding: 10px;
      border-radius: 5px;
      border: none;
      background-color: #4cbe3f; /* Dark green button */
      color: #F3F3F7; /* White text */
      font-size: 14px;
      cursor: pointer;
    }
    
    input[type="submit"]:hover {
      background-color: #1FD565; /* Lighter green on hover */
      color: #000000; /* Dark green text on hover */
    }

    /* Responsive styles for smaller screens */
    @media (max-width: 600px) {
      .container {
        max-width: 90%;
        padding: 10px;
      }
      /* Reduce font size for smaller screens */
      h1, label, input, select, textarea, span {
        font-size: 13px;
      }
    }
    
    /* Custom error message for all fields */
    #error-container {
      color: rgb(221, 235, 26);
      font-size: 14px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Registration Form</h1>
    <form id="registration-form" action="http://localhost:3000/addname" method="post">
      <div class="form-group">
        <label for="first-name">First Name:</label>
        <input type="text" id="first-name" name="firstName" maxlength="20" required>
        <span id="first-name-error" class="error-message"></span>
      </div>
      <div class="form-group">
        <label for="last-name">Last Name:</label>
        <input type="text" id="last-name" name="lastName" maxlength="12" required>
        <span id="last-name-error" class="error-message"></span>
      </div>
      <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required pattern="^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$">
        <span id="email-error" class="error-message"></span>
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" minlength="8" maxlength="12" required>
        <span id="password-error" class="error-message"></span>
      </div>
      <div class="form-group">
        <label for="confirm-password">Re-type Password:</label>
        <input type="password" id="confirm-password" name="confirm-password" minlength="8" maxlength="12" required>
        <span id="confirm-password-error" class="error-message"></span>
      </div>
      <div class="form-group">
        <label for="mobile">Mobile Number:</label>
        <div class="phone-input">
          <select id="country-code" name="country-code" required>
            <option value="+91" selected>+91 (India)</option>
            <option value="+1">+1 (USA)</option>
            <option value="+44">+44 (UK)</option>
            <option value="+61">+61 (Australia)</option>
            <option value="+86">+86 (China)</option>
            <option value="+33">+33 (France)</option>
            <option value="+49">+49 (Germany)</option>
            <option value="+81">+81 (Japan)</option>
            <option value="+52">+52 (Mexico)</option>
            <option value="+31">+31 (Netherlands)</option>
            <option value="+64">+64 (New Zealand)</option>
            <option value="+63">+63 (Philippines)</option>
            <option value="+7">+7 (Russia)</option>
            <option value="+65">+65 (Singapore)</option>
            <option value="+34">+34 (Spain)</option>
            <option value="+46">+46 (Sweden)</option>
            <option value="+41">+41 (Switzerland)</option>
            <option value="+90">+90 (Turkey)</option>
            <option value="+44">+44 (United Kingdom)</option>
          </select>
          <input type="tel" id="mobile-number" name="mobileNumber" pattern="[0-9]{10}" required>
        </div>
        <span id="mobile-number-error" class="error-message"></span>
      </div>
      <div class="form-group">
        <label for="organization">Previous Organization:</label>
        <input type="text" id="organization" name="organization" required>
        <span id="organization-error" class="error-message"></span>
      </div>
      <div class="form-group">
        <label for="experience">Years of Experience:</label>
        <input type="number" id="experience" name="experience" min="0" required>
      </div>
      <div class="form-group">
        <label for="skills">Skills Set (separated by commas):</label>
        <textarea id="skills" name="skills" rows="3" cols="45" minlength="2" maxlength="60" required></textarea>
        <span id="skills-error" class="error-message"></span>
      </div>
      <input type="submit" id="submit-button" value="Register">
    </form>
  </div>
  <script> 
  document.querySelector('form').addEventListener('submit', function(event) {
  event.preventDefault();

  var firstNameInput = document.getElementById('first-name');
  var lastNameInput = document.getElementById('last-name');
  var skillsInput = document.getElementById('skills');
  var emailInput = document.getElementById('email');
  var passwordInput = document.getElementById('password');
  var confirmPasswordInput = document.getElementById('confirm-password');
  var organizationInput = document.getElementById('organization');
  var firstNameError = document.getElementById('first-name-error');
  var lastNameError = document.getElementById('last-name-error');
  var skillsError = document.getElementById('skills-error');
  var passwordError = document.getElementById('password-error');
  var confirmPasswordError = document.getElementById('confirm-password-error');
  var organizationError = document.getElementById('organization-error');
  var emailError = document.getElementById('email-error');
  var mobileNumberInput = document.getElementById('mobile-number');
  var mobileNumberError = document.getElementById('mobile-number-error');



  firstNameError.textContent = '';
  lastNameError.textContent = '';
  skillsError.textContent = '';
  passwordError.textContent = '';
  confirmPasswordError.textContent = '';
  organizationError.textContent = '';
  emailError.textContent = '';
  mobileNumberError.textContent = '';


   


  if (firstNameInput.value.trim() === '') {
    firstNameError.textContent = 'First name cannot be left blank.';
  } else if (firstNameInput.value.length < 3 || firstNameInput.value.length > 12) {
    firstNameError.textContent = 'First name must be between 3 and 12 characters.';
  } else if (/\s/.test(firstNameInput.value)) {
    firstNameError.textContent = 'First name cannot contain spaces.';
  } else if (/[^a-zA-Z]/.test(firstNameInput.value)) {
    firstNameError.textContent = 'First name cannot contain special characters.';
  }

  if (lastNameInput.value.trim() === '') {
    lastNameError.textContent = 'Last name cannot be left blank.';
  } else if (lastNameInput.value.length < 2 || lastNameInput.value.length > 12) {
    lastNameError.textContent = 'Last name must be between 2 and 12 characters.';
  } else if (/\s/.test(lastNameInput.value)) {
    lastNameError.textContent = 'Last name cannot contain spaces.';
  } else if (/[^a-zA-Z]/.test(lastNameInput.value)) {
    lastNameError.textContent = 'Last name cannot contain special characters.';
  }

  if (passwordInput.value.length < 6 || passwordInput.value.length > 12) {
    passwordError.textContent = 'Password must be between 6 and 12 characters.';
  } else if (/\s/.test(passwordInput.value)) {
    passwordError.textContent = 'Password cannot contain spaces.';
  }

  if (confirmPasswordInput.value !== passwordInput.value) {
    confirmPasswordError.textContent = 'Passwords do not match.';
  }

  if (skillsInput.value.trim() === '') {
    skillsError.textContent = 'Skills cannot be left blank.';
  } else if (skillsInput.value.length < 2 || skillsInput.value.length > 60) {
    skillsError.textContent = 'Skills must be between 2 and 60 characters.';
  }

  if (organizationInput.value.trim() === '') {
    organizationError.textContent = 'Organization cannot be left blank.';
  } else if (organizationInput.value.length < 2 || organizationInput.value.length > 20) {
    organizationError.textContent = 'Organization must be between 2 and 20 characters.';
  }

  var emailPattern = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;
  var emailInputValue = emailInput.value.trim().toLowerCase(); // Convert email to lowercase
  if (emailInputValue === '') {
    emailError.textContent = 'Email cannot be left blank.';
  } else if (emailInputValue.length < 12 || emailInputValue.length > 40) {
    emailError.textContent = 'Email must be between 12 and 40 characters.';
  } else if (!emailPattern.test(emailInputValue)) {
    emailError.textContent = 'Note: Invalid email format.';
  } else {
    emailError.textContent = '';
  }

  if (mobileNumberInput.value.trim() === '') {
    mobileNumberError.textContent = 'Note: Mobile number cannot be left blank';
  } else if (!validateMobileNumber(mobileNumberInput.value.trim())) {
    mobileNumberError.textContent = 'Note: Invalid mobile number format.';
  }

  if (
    !firstNameError.textContent &&
    !lastNameError.textContent &&
    !passwordError.textContent &&
    !confirmPasswordError.textContent &&
    !skillsError.textContent &&
    !organizationError.textContent &&
    !emailError.textContent &&
    !mobileNumberError.textContent 
  ) {
    emailInput.value = emailInputValue;
    event.target.submit();
  }
});

document.getElementById('first-name').addEventListener('input', function() {
  var firstNameError = document.getElementById('first-name-error');

  if (this.value.trim() === '') {
    firstNameError.textContent = 'Note: First name cannot be left blank.';
  } else if (this.value.length < 3 || this.value.length > 12) {
    firstNameError.textContent = 'Note: First name must be between 3 and 12 characters.';
  } else if (/\s/.test(this.value)) {
    firstNameError.textContent = 'Note: First name cannot contain spaces.';
  } else if (/[^a-zA-Z]/.test(this.value)) {
    firstNameError.textContent = 'Note: First name cannot contain special characters.';
  } else {
    firstNameError.textContent = '';
  }
});

document.getElementById('last-name').addEventListener('input', function() {
  var lastNameError = document.getElementById('last-name-error');

  if (this.value.trim() === '') {
    lastNameError.textContent = 'Note: Last name cannot be left blank.';
  } else if (this.value.length < 2 || this.value.length > 12) {
    lastNameError.textContent = 'Note: Last name must be between 2 and 12 characters.';
  } else if (/\s/.test(this.value)) {
    lastNameError.textContent = 'Note: Last name cannot contain spaces.';
  } else if (/[^a-zA-Z]/.test(this.value)) {
    lastNameError.textContent = 'Note: Last name cannot contain special characters.';
  } else {
    lastNameError.textContent = '';
  }
});

document.getElementById('skills').addEventListener('input', function() {
  var skillsError = document.getElementById('skills-error');

  if (this.value.trim() === '') {
    skillsError.textContent = 'Note: Skills cannot be left blank.';
  } else if (this.value.length < 2 || this.value.length > 60) {
    skillsError.textContent = 'Note: Skills must be between 2 and 60 characters.';
  } else {
    skillsError.textContent = '';
  }
});

document.getElementById('password').addEventListener('input', function() {
  var passwordError = document.getElementById('password-error');

  if (this.value.trim() === '') {
    passwordError.textContent = 'Note: Password cannot be left blank.';
  } else if (this.value.length < 6 || this.value.length > 12) {
    passwordError.textContent = 'Note: Password must be between 6 and 12 characters.';
  } else if (/\s/.test(this.value)) {
    passwordError.textContent = 'Note: Password cannot contain spaces.';
  } else {
    passwordError.textContent = '';
  }
});

document.getElementById('confirm-password').addEventListener('input', function() {
  var confirmPasswordError = document.getElementById('confirm-password-error');

  if (this.value !== document.getElementById('password').value) {
    confirmPasswordError.textContent = 'Note: Passwords do not match.';
  } else {
    confirmPasswordError.textContent = '';
  }
});

document.getElementById('organization').addEventListener('input', function() {
  var organizationError = document.getElementById('organization-error');

  if (this.value.trim() === '') {
    organizationError.textContent = 'Note: Organization cannot be left blank.';
  } else if (this.value.length < 2 || this.value.length > 20) {
    organizationError.textContent = 'Note: Organization must be between 2 and 20 characters.';
  } else {
    organizationError.textContent = '';
  }
});

document.getElementById('email').addEventListener('input', function() {
  var emailError = document.getElementById('email-error');
  var emailPattern = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;
  var emailInputValue = this.value.trim().toLowerCase();

  if (emailInputValue === '') {
    emailError.textContent = 'Email cannot be left blank.';
  } else if (emailInputValue.length < 12 || emailInputValue.length > 40) {
    emailError.textContent = 'Email must be between 12 and 40 characters.';
  } else if (!emailPattern.test(emailInputValue)) {
    emailError.textContent = 'Invalid email format.';
  } else {
    emailError.textContent = ''; // Clear the error message
  }
});




document.getElementById('mobile-number').addEventListener('input', function() {
  var mobileNumberError = document.getElementById('mobile-number-error');

  if (mobileNumberInput.value.trim() === '') {
    mobileNumberError.textContent = 'Mobile number cannot be left blank.';
  } else if (!validateMobileNumber(mobileNumberInput.value.trim())) {
    mobileNumberError.textContent = 'Note: Invalid mobile number format.';
  } else {
      mobileNumberError.textContent='';
    }
  }
);



document.getElementById('submit-button').addEventListener('click', function(event) {
  var firstNameInput = document.getElementById('first-name');
  var firstNameError = document.getElementById('first-name-error');
  var lastNameInput = document.getElementById('last-name');
  var lastNameError = document.getElementById('last-name-error');
  var emailInput = document.getElementById('email');
  var emailError = document.getElementById('email-error');
  var passwordInput = document.getElementById('password');
  var passwordError = document.getElementById('password-error');
  var confirmPasswordInput = document.getElementById('confirm-password');
  var confirmPasswordError = document.getElementById('confirm-password-error');
  var skillsInput = document.getElementById('skills');
  var skillsError = document.getElementById('skills-error');
  var organizationInput = document.getElementById('organization');
  var organizationError = document.getElementById('organization-error');
  var mobileNumberInput = document.getElementById('mobile-number');
  var mobileNumberError = document.getElementById('mobile-number-error');
  var securityAnswerInput = document.getElementById('security-answer');
var securityAnswerError = document.getElementById('security-answer-error');

  if (firstNameInput.value.trim() === '' || firstNameError.textContent !== '') {
  event.preventDefault();
  firstNameInput.focus();
} else if (lastNameInput.value.trim() === '' || lastNameError.textContent !== '') {
  event.preventDefault();
  lastNameInput.focus();
} else if (!validateEmail(emailInput.value.trim())) {
  emailError.textContent = 'Note: This field is required.';
  event.preventDefault();
  emailInput.focus();
} else if (passwordInput.value.trim() === '') {
  passwordError.textContent = 'This field is required.';
  event.preventDefault();
  passwordInput.focus();
} else if (/\s/.test(passwordInput.value)) {
  passwordError.textContent = 'Note: Password cannot contain spaces.';
  event.preventDefault();
  passwordInput.focus();
} else if (confirmPasswordInput.value !== passwordInput.value) {
  confirmPasswordError.textContent = 'Passwords do not match.';
  event.preventDefault();
  confirmPasswordInput.focus(); // Set focus back to Confirm Password field
} else if (mobileNumberInput.value.trim() === '') {
  mobileNumberError.textContent = 'Mobile number cannot be left blank.';
} else if (!validateMobileNumber(mobileNumberInput.value.trim())) {
  mobileNumberError.textContent = 'Note: Invalid mobile number format.';
  event.preventDefault();
  mobileNumberInput.focus();
} else {
  // emailError.textContent = ''; // Clear any previous error message
  // passwordError.textContent = ''; // Clear any previous error message

  var form = document.querySelector('form');
  var inputs = form.querySelectorAll('input');

  var isFormValid = true;

  for (var i = 0; i < inputs.length; i++) {
    var input = inputs[i];
    var error = document.getElementById(input.id + '-error');

    if (input.value.trim() === '') {
      error.textContent = 'This field is required.';
      isFormValid = false;
      input.focus();
    } else {
      error.textContent = '';
    }
  }
  if (!isFormValid) {
    event.preventDefault();
  }
}
});


function validateEmail(email) {
  var regex = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;
  return regex.test(email);
}

function validateMobileNumber(mobileNumber) {
  var regex = /^[0-9]{10}$/;
  return regex.test(mobileNumber);
}


document.addEventListener('DOMContentLoaded', function() {
  var form = document.querySelector('form');
  var firstNameInput = document.getElementById('first-name');
  var lastNameInput = document.getElementById('last-name');
  var emailInput = document.getElementById('email');
  var passwordInput = document.getElementById('password');
  var confirmPasswordInput = document.getElementById('confirm-password');
  var organizationInput = document.getElementById('organization');
  var skillsInput = document.getElementById('skills');

  localStorage.removeItem('formData'); //clea form data from localstorage on page re-loads.


  form.addEventListener('submit', function() {
    // Clear form data from localStorage
    localStorage.removeItem('formData');
  });

  // Store form data in localStorage on input change
  firstNameInput.addEventListener('input', saveFormData);
  lastNameInput.addEventListener('input', saveFormData);
  emailInput.addEventListener('input', saveFormData);
  passwordInput.addEventListener('input', saveFormData);
  confirmPasswordInput.addEventListener('input', saveFormData);
  skillsInput.addEventListener('input', saveFormData);
  organizationInput.addEventListener('input', saveFormData);


  function saveFormData() {
    var formData = {
      firstName: firstNameInput.value,
      lastName: lastNameInput.value,
      email: emailInput.value,
      password: passwordInput.value,
      confirmPassword: confirmPasswordInput.value
    };
    localStorage.setItem('formData', JSON.stringify(formData));
  }

  // Set focus on the first name input field
  firstNameInput.focus();
});
</script>
</body>
